{
  "name": "Rails Quality Control",
  "description": "Automatically run quality checks after file modifications",
  "events": ["PostToolUse"],
  "matcher": {
    "tools": ["Write", "Edit", "MultiEdit"],
    "files": ["*.rb", "*.erb", "*.js", "*.css"]
  },
  "hooks": [
    {
      "type": "command",
      "name": "Bundle Install Check",
      "command": "if [[ \"$CHANGED_FILE\" == *\"Gemfile\"* ]]; then echo \"ðŸ”§ Running bundle install...\"; bundle install; fi",
      "description": "Auto-install gems when Gemfile changes"
    },
    {
      "type": "command", 
      "name": "RuboCop Check",
      "command": "if [[ \"$CHANGED_FILE\" == *\".rb\" ]]; then echo \"ðŸ” Running RuboCop on $CHANGED_FILE...\"; bundle exec rubocop \"$CHANGED_FILE\" --auto-correct; fi",
      "description": "Auto-format Ruby files with RuboCop"
    },
    {
      "type": "command",
      "name": "Tailwind Build",
      "command": "if [[ \"$CHANGED_FILE\" == *\".css\" ]] || [[ \"$CHANGED_FILE\" == *\"tailwind\"* ]]; then echo \"ðŸŽ¨ Building Tailwind CSS...\"; bundle exec rails tailwindcss:build; fi",
      "description": "Rebuild Tailwind CSS when stylesheets change"
    },
    {
      "type": "command",
      "name": "ERB Lint",
      "command": "if [[ \"$CHANGED_FILE\" == *\".erb\" ]]; then echo \"ðŸ“ Checking ERB template...\"; bundle exec erblint \"$CHANGED_FILE\" 2>/dev/null || echo \"ERB file updated: $CHANGED_FILE\"; fi",
      "description": "Lint ERB templates if erblint is available"
    }
  ]
}